# 予感AIちゃん センサーデータ収集・分析システム

M5Stack CoreS3とBME688センサーを使用した環境監視システム。センサーデータを収集し、クラウドまたはGoogleスプレッドシートに記録・分析する機能を提供します。

## プロジェクト概要

「予感AIちゃん」プロジェクトは、センサー技術・生成AI・現場の経験知を融合し、詩的かつ定性的に"未来の気配"をとらえるインフラ評価基盤を構築することを目指します。

## 主な機能

- **リアルタイムセンサーデータ収集**: BME688センサーから温度・湿度・気圧・CO2・IAQ・VOCデータを取得
- **クラウド連携**: GoogleスプレッドシートやクラウドDBへの自動アップロード
- **オフライン保存**: ネットワーク不通時のSDカード保存とデータ同期
- **AI兆しレポート**: OpenAI GPTを使用した環境変化の詩的な分析レポート
- **データ分析**: 統計分析、傾向検出、異常検知機能

## 実装方針

### 段階的開発アプローチ

各タスクは**ROM焼き可能な状態**で完了し、動作確認しながら進めます：

#### フェーズ1: 基盤整備（タスク1-3）
- 既存コードの整理とクラス化（動作確認しながら）
- プロジェクト構造の整備
- 基本的なセンサーデータ収集とLCD表示

#### フェーズ2: 基本機能（タスク4-5）
- SDカードとWiFi基本機能（個別に動作確認）
- ファイル保存とネットワーク接続

#### フェーズ3: クラウド連携（タスク6-7）
- クラウド連携とオフライン切り替え（段階的に確認）
- 基本的なデータアップロード機能

#### フェーズ4: 高度な機能（タスク8-10）
- Google Sheets API連携
- ネットワーク復旧機能
- 容量管理とファイルローテーション

#### フェーズ5: システム管理（タスク11-16）
- システム管理とデータ分析機能
- 設定管理、状態監視、データエクスポート

#### フェーズ6: AI機能（タスク17-18）
- AI機能（兆しレポート）
- OpenAI GPT連携と分析レポート生成

#### フェーズ7: 統合（タスク19-20）
- API機能と最終統合
- パフォーマンス最適化

### 動作確認の重要性

- 各タスク完了時に必ずROMに焼いて動作確認
- 問題発生時の原因切り分けを容易にするため
- 既存機能を壊さずに新機能を追加

## 技術仕様

- **ハードウェア**: M5Stack CoreS3 + BME688センサー
- **開発環境**: PlatformIO + Arduino Framework
- **ストレージ**: SDカード（16GB、8GB使用想定）
- **通信**: WiFi + HTTPS/TLS
- **クラウド**: Google Sheets API, OpenAI GPT API

## ファイル構成

```
├── .kiro/specs/yokan-ai-sensor-system/  # 仕様書
│   ├── requirements.md                   # 要件定義
│   ├── design.md                        # 設計書
│   └── tasks.md                         # 実装計画
├── docs/                                # ドキュメント
├── src/                                 # ソースコード
└── data/                               # フォントなどのデータ
```

## 開発開始

実装を開始する場合は、`.kiro/specs/yokan-ai-sensor-system/tasks.md`を参照し、タスク1から順次実行してください。
